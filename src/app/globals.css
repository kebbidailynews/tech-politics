/* app/globals.css (or styles/globals.css) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------
   1. Safe-area handling (iPhone notch, Android nav)
   ------------------------------------------------- */
@supports (padding: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
@supports (padding: env(safe-area-inset-top)) {
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
}

/* -------------------------------------------------
   2. Global box-sizing & overflow protection
   ------------------------------------------------- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent unwanted horizontal scroll */
html, body {
  overflow-x: hidden;
}

/* -------------------------------------------------
   3. Touch-friendly tap targets (WCAG AA)
   ------------------------------------------------- */
button,
a,
[role="button"],
input[type="submit"],
input[type="button"] {
  min-height: 44px;   /* iOS Human Interface Guidelines */
  min-width: 44px;
}

/* -------------------------------------------------
   4. Root variables + Geist fonts
   ------------------------------------------------- */
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-geist-sans: 'Geist', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --font-geist-mono: 'Geist Mono', ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* -------------------------------------------------
   5. Dark mode (prefers-color-scheme)
   ------------------------------------------------- */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* -------------------------------------------------
   6. Body & base typography
   ------------------------------------------------- */
body {
  @apply bg-[var(--background)] text-[var(--foreground)] font-sans antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* -------------------------------------------------
   7. Header / Nav visibility fixes (mobile)
   ------------------------------------------------- */
nav {
  display: flex !important;
  align-items: center;
}
nav h1,
nav .logo,
nav [class*="logo"] {
  display: block !important;
  visibility: visible !important;
  line-height: 1.2;
}

/* Mobile-specific header tweaks */
@media (max-width: 768px) {
  nav {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
  }
  nav h1,
  nav .logo {
    font-size: 1.25rem; /* 20px */
    flex-grow: 1;
    text-align: left;
  }
}

/* -------------------------------------------------
   8. Gradient text fallback (bg-clip: text)
   ------------------------------------------------- */
@supports not ((-webkit-background-clip: text) or (background-clip: text)) {
  .bg-gradient-to-r {
    background: none !important;
  }
  .bg-clip-text {
    -webkit-background-clip: initial !important;
    background-clip: initial !important;
    color: #dc2626; /* red-600 fallback */
  }
}

/* -------------------------------------------------
   9. Marquee animation (used in ClientLayout)
   ------------------------------------------------- */
@keyframes marquee-mobile {
  from { transform: translateX(100%); }
  to   { transform: translateX(-100%); }
}
.animate-marquee-mobile {
  animation: marquee-mobile 18s linear infinite;
}
@media (min-width: 640px) {
  .animate-marquee-mobile { animation-duration: 25s; }
}
@media (min-width: 1024px) {
  .animate-marquee-mobile { animation-duration: 30s; }
}

/* -------------------------------------------------
   10. Optional: Reduce motion for users who prefer it
   ------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}